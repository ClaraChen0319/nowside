import{_ as f,m as b,n as h,i as P,o as C,p as j}from"./index.84a7a0ad.js";import{p,r as w,o as c,c as u,a as e,e as y,h as n,v as d,l as _,F as k,m as I,b as g,w as x,d as i,t as D,f as v}from"./vendor.63e1e4f4.js";const S={name:"ProjectEdit",components:{},props:{projectId:{type:String,default:""}},data(){return{skillsData:[{Id:0,skill:""}],classData:[{Id:0,ProjectType:""}],detailParams:{Id:0,ProjectName:"",ProjectContext:"",GroupPhoto:"",InitDate:"",GroupDeadline:"",FinishedDeadline:"",GroupNum:0,PartnerCondition:"",PartnerSkills:[1],ProjectTypeId:[{}],ProjectState:""}}},computed:{groupDeadline(){return p().add(7,"days").format("YYYY.MM.DD")},finishedDeadline:{set(t){const o=new Date(t).toISOString();console.log("set",o),this.detailParams.FinishedDeadline=o},get(){return this.detailParams.FinishedDeadline}}},mounted(){this.getSkillsParams(),this.getClassParams(),this.getDetailParams()},methods:{getSkillsParams(){b().then(t=>{console.log("\u6280\u80FD\u5217\u8868",t.data.Skilldata),this.skillsData=t.data.Skilldata}).catch(t=>{console.log(t)})},getClassParams(){h().then(t=>{console.log("\u5C08\u6848\u985E\u5225\u5217\u8868",t.data.Classdata),this.classData=t.data.Classdata}).catch(t=>{console.log(t)})},getDetailParams(){P(this.projectId).then(t=>{console.log("\u5C08\u6848\u8A73\u7D30",t.data.userdata);const o={GroupPhoto:t.data.userdata.GroupPhoto,ProjectName:t.data.userdata.ProjectName,ProjectTypeId:t.data.userdata.ProjectTypeId[0].Id,GroupNum:t.data.userdata.GroupNum,GroupDeadline:t.data.userdata.GroupDeadline,FinishedDeadline:t.data.userdata.FinishedDeadline,ProjectContext:t.data.userdata.ProjectContext,PartnerCondition:t.data.userdata.PartnerCondition,PartnerSkills:[t.data.userdata.PartnerSkills[0].Id]};this.detailParams=o}).catch(t=>{console.log(t)})},uploadImage(t){console.log(t.target.files[0]);const o=new FormData;o.append(t.target.files[0].name,t.target.files[0]),C(o).then(l=>{console.log("\u65B0\u589E\u5C08\u6848\u8CC7\u6599 \u5716\u7247\u4E0A\u50B3",l.data),this.detailParams.GroupPhoto=l.data.data.ProfilePicture}).catch(l=>{console.log(l)})},putProjectParams(){j(this.projectId,this.detailParams).then(t=>{console.log("\u7DE8\u8F2F\u5C08\u6848\u8A73\u7D30\u5167\u5BB9",t.data)}).catch(t=>{console.log(t)})},timeFormat(t){return p(t).format("YYYY.MM.DD")},optionSelected(t){var o,l;return console.log(t.Id),console.log(this.detailParams.ProjectTypeId[0]),console.log(t.Id===((o=this.detailParams.ProjectTypeId[0])==null?void 0:o.Id)),t.Id===((l=this.detailParams.ProjectTypeId[0])==null?void 0:l.Id)}}},T={class:"py-[180px] w-full h-full"},N={class:"py-24 px-14 mb-28 nowside-container-lg nowside-shadow"},G={class:"flex flex-col justify-center items-center mb-24"},V={class:"relative mb-20 h-[415px]"},F=e("span",{class:"text-2xl text-white align-sub material-icons"},"monochrome_photos",-1),Y=[F],U={class:"flex items-center w-[415px]"},M=e("span",{class:"inline-block right-4 bottom-2 text-3xl text-C_green-500 rounded material-icons"},"edit",-1),B={class:"flex flex-nowrap justify-between mb-12 h-[40px]"},E={class:"flex justify-between items-center w-[570px]"},z=e("label",{for:"projectTypeId",class:"mr-5 min-w-[96px] text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u5C08\u6848\u7A2E\u985E",-1),L=["value","selected"],O={class:"flex justify-between items-center w-[570px]"},R=e("label",{for:"groupNum",class:"mr-5 min-w-[96px] text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u5718\u968A\u4EBA\u6578",-1),q=v('<option value="1"> 1 \u4EBA </option><option value="2"> 2 \u4EBA </option><option value="3"> 3 \u4EBA </option><option value="4"> 4 \u4EBA </option><option value="5"> 5 \u4EBA </option><option value="6"> 6 \u4EBA </option><option value="7"> 7 \u4EBA </option><option value="8"> 8 \u4EBA </option><option value="9"> 9 \u4EBA </option><option value="10"> 10 \u4EBA </option><option value="11"> 11 \u4EBA </option><option value="12"> 12 \u4EBA </option><option value="13"> 13 \u4EBA </option><option value="14"> 14 \u4EBA </option>',14),A=[q],H={class:"flex flex-nowrap justify-between mb-12 h-[40px]"},J={class:"flex justify-between items-center w-[570px]"},K=e("label",{for:"groupDeadline",class:"mr-5 min-w-[96px] text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},[i("\u53C3\u52A0"),e("br"),i("\u622A\u6B62\u65E5")],-1),Q=["value"],W={class:"flex justify-between items-center w-[570px]"},X=e("label",{for:"finishedDeadline",class:"mr-5 min-w-[96px] text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},[i("\u5C08\u6848"),e("br"),i("\u7D50\u675F\u65E5")],-1),Z={class:"flex justify-between items-center mb-12"},$=e("label",{for:"projectContext",class:"mr-5 min-w-[96px] text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u5C08\u6848\u5167\u5BB9",-1),ee={class:"flex justify-between items-center mb-12"},te=e("label",{for:"PartnerCondition",class:"mr-5 min-w-[96px] text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u5925\u4F34\u689D\u4EF6",-1),oe=e("li",{class:"flex justify-between items-center mb-12"},[e("label",{for:"PartnerSkills",class:"mr-5 min-w-[96px] text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u5925\u4F34\u6280\u80FD"),e("div",{class:"p-2 w-full h-[140px] text-lg text-C_blue-600 bg-C_gray-100 dark:bg-[#333333] rounded border border-C_gray-300 dark:border-C_gray-900"})],-1),ae={class:"flex justify-center"},se=e("span",{class:"mr-1 material-icons"},"reply",-1),le=i(" \u53D6\u6D88 "),re=e("span",{class:"mr-1 material-icons"},"ios_share",-1),ne=i(" \u5132\u5B58 ");function ie(t,o,l,de,s,r){const m=w("router-link");return c(),u("article",T,[e("div",N,[e("section",G,[e("div",V,[e("div",{class:"w-[415px] h-[415px] rounded-full shadow-xl dark:shadow-gray-800 nowside-backgroundImage",style:y({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/GroupPicture/${s.detailParams.GroupPhoto}')`})},null,4),e("form",null,[e("input",{ref:"uploadImage",type:"file",class:"hidden",onChange:o[0]||(o[0]=(...a)=>r.uploadImage&&r.uploadImage(...a))},null,544)]),e("button",{type:"button",class:"flex absolute right-16 bottom-0 justify-center items-center w-[48px] h-[48px] bg-C_green-500 hover:bg-C_green-400 rounded-full border-4 border-white nowside-backgroundImage",onClick:o[1]||(o[1]=a=>t.$refs.uploadImage.click())},Y)]),e("form",U,[n(e("input",{id:"projectName","onUpdate:modelValue":o[2]||(o[2]=a=>s.detailParams.ProjectName=a),name:"projectName",type:"text",class:"w-[383px] text-3xl font-medium text-center text-C_blue-400 dark:bg-C_black focus:outline-none focus:ring-0"},null,512),[[d,s.detailParams.ProjectName]]),M])]),e("section",null,[e("ul",null,[e("li",B,[e("form",E,[z,n(e("select",{id:"projectTypeId","onUpdate:modelValue":o[3]||(o[3]=a=>s.detailParams.ProjectTypeId=a),name:"projectTypeId",class:"w-full tracking-wide text-C_blue-600 dark:text-C_blue-200 bg-C_gray-100 dark:bg-[#333333] rounded border border-C_gray-300 focus:border-C_green-500 dark:border-C_gray-900 focus:ring-C_green-500 form-input"},[(c(!0),u(k,null,I(s.classData,a=>(c(),u("option",{key:a.Id,value:a.Id,selected:a.Id===s.detailParams.ProjectTypeId},D(a.ProjectType),9,L))),128))],512),[[_,s.detailParams.ProjectTypeId]])]),e("form",O,[R,n(e("select",{id:"projectTypeId","onUpdate:modelValue":o[4]||(o[4]=a=>s.detailParams.GroupNum=a),name:"projectTypeId",class:"w-full tracking-wide text-C_blue-600 dark:text-C_blue-200 bg-C_gray-100 dark:bg-[#333333] rounded border border-C_gray-300 focus:border-C_green-500 dark:border-C_gray-900 focus:ring-C_green-500 form-input"},A,512),[[_,s.detailParams.GroupNum]])])]),e("li",H,[e("form",J,[K,e("input",{id:"groupDeadline",value:r.groupDeadline,name:"groupDeadline",type:"text",class:"cursor-not-allowed nowside-input",disabled:""},null,8,Q)]),e("form",W,[X,n(e("input",{id:"finishedDeadline","onUpdate:modelValue":o[5]||(o[5]=a=>r.finishedDeadline=a),name:"finishedDeadline",type:"date",class:"nowside-input form-input"},null,512),[[d,r.finishedDeadline]])])]),e("li",Z,[$,n(e("textarea",{id:"projectContext","onUpdate:modelValue":o[6]||(o[6]=a=>s.detailParams.ProjectContext=a),class:"nowside-textarea",name:"projectContext",rows:"5",maxlength:"1000"},null,512),[[d,s.detailParams.ProjectContext]])]),e("li",ee,[te,n(e("textarea",{id:"PartnerCondition","onUpdate:modelValue":o[7]||(o[7]=a=>s.detailParams.PartnerCondition=a),class:"nowside-textarea",name:"PartnerCondition",rows:"5",maxlength:"1000"},null,512),[[d,s.detailParams.PartnerCondition]])]),oe])])]),e("div",null,[e("section",ae,[g(m,{class:"flex justify-center items-center py-2 mr-6 w-[196px] text-lg font-bold text-C_blue-700 bg-white hover:bg-C_gray-100 rounded border-2 border-C_blue-400 shadow-lg",to:{name:"ProjectView",params:{projectId:l.projectId}}},{default:x(()=>[se,le]),_:1},8,["to"]),g(m,{class:"flex justify-center items-center py-2 w-[196px] text-lg font-bold text-white bg-C_green-500 hover:bg-C_green-400 rounded shadow-lg",to:{name:"ProjectView",params:{projectId:l.projectId}},onClick:r.putProjectParams},{default:x(()=>[re,ne]),_:1},8,["to","onClick"])])])])}var me=f(S,[["render",ie]]);export{me as default};
