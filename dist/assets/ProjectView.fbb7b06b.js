import{_ as k,g as C,h as P,i as v,j as w,k as j,l as y}from"./index.84a7a0ad.js";import{p as I,r as N,o as a,c as i,a as e,e as m,t as l,j as p,b,w as h,F as d,m as _,h as f,v as g,d as u}from"./vendor.63e1e4f4.js";const F={name:"ProjectView",components:{},props:{projectId:{type:String,default:""}},data(){return{favoriteActive:!1,organizerActive:!1,detailParams:{Id:0,ProjectName:"",ProjectContext:"",GroupPhoto:"",InitDate:"",GroupDeadline:"",FinishedDeadline:"",GroupNum:0,PartnerCondition:"",PartnerSkills:[],ProjectTypeId:[],ProjectState:"",Organizer:[],Applicants:[]},messageParams:[{ProjectsId:0,ProfilePicture:"",NickName:"",MessageTitle:"",MessageContent:"",InitDate:""}]}},computed:{},mounted(){this.onLogin(),this.getDetailParams(),this.getMessageParams()},methods:{onLogin(){localStorage.getItem("nowsideToken")&&(this.onFavorite(),this.onOrganizer())},onFavorite(){C(this.projectId).then(s=>{console.log("\u662F\u5426\u6536\u85CF\u5C08\u6848",s.data),s.data.status===!0&&(this.favoriteActive=!0)}).catch(s=>{console.log(s)})},onOrganizer(){P(this.projectId).then(s=>{console.log("\u662F\u5426\u70BA\u767C\u8D77\u4EBA",s.data),s.data.status===!0&&(this.organizerActive=!0)}).catch(s=>{console.log(s)})},getDetailParams(){v(this.projectId).then(s=>{console.log("\u5C08\u6848\u8A73\u7D30",s.data.userdata),this.detailParams=s.data.userdata}).catch(s=>{console.log(s)})},getMessageParams(){w(this.projectId).then(s=>{console.log("\u5C08\u6848\u7559\u8A00",s.data.data),this.messageParams=s.data.data}).catch(s=>{console.log(s)})},addFavorite(s){localStorage.getItem("nowsideToken")&&j(s).then(r=>{console.log("\u6536\u85CF\u5C08\u6848",r.data),this.getSaveListParams(),this.getListParams()}).catch(r=>{console.log(r)})},cancelFavorite(s){localStorage.getItem("nowsideToken")&&y(s).then(r=>{console.log("\u53D6\u6D88\u6536\u85CF\u5C08\u6848",r.data),this.getSaveListParams(),this.getListParams()}).catch(r=>{console.log(r)})},timeFormat(s){return I(s).format("YYYY.MM.DD")}}},S={class:"py-[180px] w-full h-full"},D={class:"flex relative flex-col py-20 px-24 mb-12 nowside-container-lg nowside-shadow"},G={class:"flex flex-col justify-center items-center mb-14 w-full"},M={class:"text-xl font-medium text-C_blue-700 dark:text-C_blue-300"},A={class:"absolute top-20 right-12 w-[256px]"},T={class:"mb-4"},V={class:"flex justify-between w-full"},z=e("span",{class:"mr-1 material-icons"},"favorite_border",-1),L=u(" \u6536\u85CF "),U=[z,L],O=e("span",{class:"mr-1 material-icons"},"favorite",-1),Y=u(" \u6536\u85CF "),B=[O,Y],E=e("span",{class:"mr-1 material-icons"},"north_east",-1),q=u(" \u7DE8\u8F2F "),H={class:"flex justify-between items-center mb-4"},J={class:"max-w-[144px] font-medium text-C_blue-500 dark:text-C_blue-200 truncate border-b-2 border-C_blue-300 dark:border-C_blue-200"},K={class:"flex items-center"},Q=e("span",{class:"mr-1 text-xl text-orange-500 material-icons"},"adjust",-1),R={class:"font-medium text-C_blue-700 dark:text-C_blue-200"},W={class:"flex mb-4"},X=e("p",{class:"mr-2 font-medium text-C_blue-700 dark:text-C_blue-400"}," \u767C\u8D77\u65E5 ",-1),Z={class:"dark:text-C_blue-200"},$={class:"flex mb-4"},ee=e("p",{class:"mr-2 font-medium text-C_blue-700 dark:text-C_blue-400"}," \u7D50\u675F\u65E5 ",-1),te={class:"dark:text-C_blue-200"},se={class:"flex items-center mb-4"},oe=e("span",{class:"mr-2 text-3xl text-C_blue-400 material-icons"},"account_circle",-1),le={class:"text-xl dark:text-C_blue-200"},ae={class:"text-C_blue-800"},ie={class:"mb-10"},ne=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5C08\u6848\u5167\u5BB9 ",-1),re=e("br",null,null,-1),ce={class:"dark:text-C_blue-200"},de={class:"mb-10"},_e=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5925\u4F34\u689D\u4EF6 ",-1),ue=e("br",null,null,-1),me={class:"dark:text-C_blue-200"},xe={class:"mb-10"},be=e("p",{class:"inline-block mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5925\u4F34\u6280\u80FD ",-1),he=e("br",null,null,-1),pe={class:"flex overflow-y-hidden flex-wrap max-h-[68px]"},fe={class:"px-4"},ge={class:"flex items-center mb-10"},ke=e("p",{class:"inline-block mr-8 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5A92\u5408\u671F\u9650 ",-1),Ce={class:"dark:text-C_blue-200"},Pe=e("li",{class:"mb-10"},[e("p",{class:"inline-block mr-8 mb-4 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u5206\u4EAB "),e("div",{class:"inline-block"},[e("button",{class:"nowside-button-blue-md"}," \u8907\u88FD\u9023\u7D50 ")])],-1),ve=e("p",{class:"inline-block mb-9 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u53C3\u52A0\u4EBA\u54E1 ",-1),we=e("br",null,null,-1),je={class:"flex flex-wrap items-center"},ye={class:"flex flex-col max-w-[100px]"},Ie={class:"mb-1 text-C_blue-700 dark:text-C_blue-200 truncate"},Ne=e("p",{class:"text-C_blue-500 dark:text-C_blue-300"}," \u767C\u8D77\u4EBA ",-1),Fe={class:"flex flex-col max-w-[100px]"},Se={class:"mb-1 text-C_blue-700 dark:text-C_blue-200 truncate"},De=e("p",{class:"text-C_blue-500 dark:text-C_blue-300"}," \u7D44\u54E1 ",-1),Ge={class:"flex"},Me=u(" \u53C3\u8207\u5C08\u6848 "),Ae={class:"flex relative flex-col py-20 px-24 nowside-container-lg nowside-shadow"},Te={class:"mb-12"},Ve=e("p",{class:"inline-block mb-14 text-lg font-medium text-C_blue-700 dark:text-C_blue-400"}," \u7559\u8A00 ",-1),ze=e("br",null,null,-1),Le={class:"flex"},Ue={class:"flex flex-col justify-start items-center"},Oe={class:"text-sm text-C_blue-700 dark:text-C_blue-200"},Ye={class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-300"},Be=e("br",null,null,-1),Ee={class:"mb-4 text-C_blue-700 dark:text-C_blue-200"},qe=e("br",null,null,-1),He={class:"mb-4 text-xs text-C_blue-700 dark:text-C_blue-200"},Je={class:"mb-16"},Ke={class:"flex flex-col mb-12"},Qe=e("label",{for:"title",class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u6A19\u984C",-1),Re={class:"flex flex-col"},We=e("label",{for:"content",class:"mb-4 text-lg font-medium text-C_blue-500 dark:text-C_blue-400"},"\u5167\u5BB9",-1),Xe=e("div",{class:"flex justify-center"},[e("button",{class:"nowside-button-blue-md"}," \u9001\u51FA ")],-1);function Ze(s,n,r,$e,o,c){const x=N("router-link");return a(),i("article",S,[e("section",D,[e("div",G,[e("div",{class:"mb-12 w-[304px] h-[304px] rounded-full border-2 border-C_gray-300 dark:border-C_gray-900 shadow-xl nowside-backgroundImage",style:m({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/GroupPicture/${o.detailParams.GroupPhoto}')`})},null,4),e("span",M,l(o.detailParams.ProjectName),1),e("ul",A,[e("li",T,[e("div",V,[o.favoriteActive===!1?(a(),i("button",{key:0,class:"flex justify-center items-center py-2 px-6 text-md font-medium text-C_blue-400 bg-white hover:bg-C_gray-100 rounded border-2 border-C_gray-300",onClick:n[0]||(n[0]=t=>c.addFavorite(o.detailParams.Id))},U)):p("",!0),o.favoriteActive===!0?(a(),i("button",{key:1,class:"flex justify-center items-center py-2 px-6 text-md font-medium text-C_blue-700 bg-white hover:bg-C_gray-100 rounded border-2 border-C_gray-300",onClick:n[1]||(n[1]=t=>c.cancelFavorite(o.detailParams.Id))},B)):p("",!0),b(x,{class:"flex justify-center items-center py-2 px-6 text-md font-medium text-white bg-C_green-500 hover:bg-C_green-400 rounded",to:{name:"ProjectEdit",params:{projectId:o.detailParams.Id}}},{default:h(()=>[E,q]),_:1},8,["to"])])]),e("li",H,[(a(!0),i(d,null,_(o.detailParams.ProjectTypeId,t=>(a(),i("div",{key:t.Id,class:"flex items-center"},[e("p",J,l(t.ProjectType),1)]))),128)),e("div",K,[Q,e("p",R,l(o.detailParams.ProjectState),1)])]),e("li",W,[X,e("p",Z,l(c.timeFormat(o.detailParams.InitDate)),1)]),e("li",$,[ee,e("p",te,l(c.timeFormat(o.detailParams.FinishedDeadline)),1)]),e("li",se,[oe,e("span",le,l(o.detailParams.GroupNum),1)])])]),e("div",null,[e("ul",ae,[e("li",ie,[ne,re,e("p",ce,l(o.detailParams.ProjectContext),1)]),e("li",de,[_e,ue,e("p",me,l(o.detailParams.PartnerCondition),1)]),e("li",xe,[be,he,e("div",pe,[(a(!0),i(d,null,_(o.detailParams.PartnerSkills,t=>(a(),i("div",{key:t.Id,class:"inline-block mr-2 mb-4 bg-C_blue-200 rounded"},[e("p",fe,l(t.skill),1)]))),128))])]),e("li",ge,[ke,e("p",Ce,l(c.timeFormat(o.detailParams.GroupDeadline)),1)]),Pe,e("li",null,[ve,we,e("ul",je,[(a(!0),i(d,null,_(o.detailParams.Organizer,t=>(a(),i("li",{key:t.NickName,class:"flex items-center mr-6 mb-10 w-[196px]"},[e("div",{class:"mr-6 min-w-[72px] min-h-[72px] rounded-full nowside-backgroundImage",style:m({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/GroupPicture/${t.ProfilePicture}')`})},null,4),e("div",ye,[e("p",Ie,l(t.NickName),1),Ne])]))),128)),(a(!0),i(d,null,_(o.detailParams.Applicants,t=>(a(),i("li",{key:t.NickName,class:"flex items-center mr-6 mb-10 w-[196px]"},[e("div",{class:"mr-6 min-w-[72px] min-h-[72px] rounded-full nowside-backgroundImage",style:m({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/GroupPicture/${t.ProfilePicture}')`})},null,4),e("div",Fe,[e("p",Se,l(t.NickName),1),De])]))),128))]),e("div",Ge,[b(x,{class:"mr-6 nowside-button-blue-md",to:{name:"ProjectMatch",params:{projectId:r.projectId}}},{default:h(()=>{var t;return[u(" \u5BE9\u6838\u7D44\u54E1 "+l(`${(t=o.detailParams.Applicants)==null?void 0:t.length} / ${o.detailParams.GroupNum}`),1)]}),_:1},8,["to"]),b(x,{class:"nowside-button-blue-md",to:{name:"ProjectApply",params:{projectId:r.projectId}}},{default:h(()=>[Me]),_:1},8,["to"])])])])])]),e("section",Ae,[e("div",Te,[Ve,ze,e("ul",null,[(a(!0),i(d,null,_(o.messageParams,t=>(a(),i("li",{key:t.InitDate,class:"mb-16"},[e("div",Le,[e("div",Ue,[e("div",{class:"mx-6 mb-2 w-[72px] h-[72px] rounded-full nowside-backgroundImage",style:m({"background-image":`url('http://sideprojectnow.rocket-coding.com/Upload/GroupPicture/${o.detailParams.ProfilePicture}')`})},null,4),e("p",Oe,l(t.NickName),1)]),e("div",null,[e("p",Ye,l(t.MessageTitle),1),Be,e("p",Ee,l(t.MessageContent),1),qe,e("p",He,l(c.timeFormat(t.InitDate)),1)])])]))),128))])]),e("div",Je,[e("ul",null,[e("li",Ke,[Qe,f(e("input",{id:"title","onUpdate:modelValue":n[2]||(n[2]=t=>o.messageParams.title=t),name:"title",type:"text",class:"nowside-input"},null,512),[[g,o.messageParams.title]])]),e("li",Re,[We,f(e("textarea",{id:"content","onUpdate:modelValue":n[3]||(n[3]=t=>o.messageParams.content=t),class:"nowside-textarea",name:"content",rows:"8",maxlength:"1000"},null,512),[[g,o.messageParams.content]])])])]),Xe])])}var st=k(F,[["render",Ze]]);export{st as default};
